@using Demo.Utility
@model OrderVM

<form method="post">
	<br />
	<div class="container">
		<div class="card">
			<div class="card-header bg-dark text-light ml-0">
				<div class="container row">
					<div class="col-12 d-none d-md-block col-md-6 pb-1">
						<i class="fas fa-shopping-cart"></i> &nbsp; Order Summary
					</div>
					<div class="col-12 col-md-4 offset-md-2 text-right">
						<a asp-action="Index" class="btn btn-outline-info form-control btn-sm">Back to Orders</a>
					</div>
				</div>
			</div>
			<div class="card-body">
				<div class="container rounded p-2">
					<div class="col-12 col-lg-6 pb-4">
						<div class="row">
							<h4 class="d-flex justify-content-between align-content-center mb-3">
								<span class="text-primary">Pick-up Details</span>
							</h4>
						</div>
						
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.Name"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.StreetAddress", label: "Address"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.City"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.State"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.PostalCode"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.ApplicationUser.Email"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.Carrier"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.TrackingNumber"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.OrderDate"))
						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.ShippingDate"))

						@if(User.IsInRole(SD.ROLE_USER_ADMIN) || User.IsInRole(SD.ROLE_USER_EMPLOYEE))
						{
							@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.PaymentDueDate"))
							@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.PaymentIntentId"))
						}

						@if(Model.Header?.SessionId == null)
						{
							@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.SessionId"))
						}
						else
						{
							@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.PaymentDate"))
						}

						@await Html.PartialAsync("_FormField", new FormFieldModel("Model.Header.PaymentStatus"))
						
						<div>
							<ul>
								<li class="list-group-item bg-primary">
									<div class="row-container">
										<div class="col-4">
											<h5 class="text-sucess">Title</h5>
										</div>
										<div class="col-4 text-end">
											<h5 class="text-success">Count * Price</h5>
										</div>
									</div>
								</li>
								<li class="list-group-item bg-primary">
									<div class="row-container">
										<div class="col-6">
											<h5 class="text-white">TOTAL</h5>
										</div>
										<div class="col-6 text-end">
											<h5 class="text-white">$$$$$</h5>
										</div>
									</div>
								</li>
							</ul>
							<input type="submit" class="btn btn-success form-control my-1" value="Pay Now"/>
							<input type="submit" class="btn btn-success form-control my-1" value="Start Processing"/>
							<input type="submit" class="btn btn-success form-control my-1" value="Ship Order"/>
							<input type="submit" class="btn btn-success form-control my-1" value="Cancel Order"/>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</form>